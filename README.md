# Система смены кастомного префикса в BDFD
## **Этот код создан для бесплатной версии BDFD!**
### Не стоит воспринимать его как идеальный код который можно написать и использовать, на официальной википедии bdfd есть статья посвещенная этой системе.

## **Как это работает**
### Вся суть сходится к тому, что у нас есть готовые префиксы для ихней смены, с помощью переменной мы можем сказать боту какой префикс используется на сервере и тем самым сделать как бы смену префиксов для команд.
## **Пример кодa**

**`Переменная: prefix=!`** - где "**!**" префикс **по умолчанию**(у вас должна быть создана команда с этим префиксом)

**`Триггер: !`** - где "**!**" префикс который будет использоваться в команде
```
$nomention

$if[$getServerVar[prefix]==!] $c[Здесь указывается триггер команды, в нашем случае "!"]

$if[$message[1]==change-prefix]

$onlyAdmin[Ошибка: данная команда доступна только для администраторов]
$onlyIf[$checkContains[$replaceText[$message;$message[1];;1];!;?]==true;Ошибка: данного префикса не существует]
$c[Мы используем replaceText чтобы убрать название команды "change-prefix", здесь это не обходимо.]

$addField[Успешно;Вы изменили префикс на `$replaceText[$message;$message[1];;1]`]
$color[00ff00]

$setServerVar[prefix;$trimSpace[$replaceText[$message;$message[1];;1]]]
$c[trimSpace нужен чтобы убрать возможные пробелы в начале и в конце префикса]

$elseif[$message[1]==command1]

Команда1 выполнена

$elseif[$message[1]==casino]

$if[$replaceText[$message;$message[1];;1]!=]
$if[$isNumber[$replaceText[$message;$message[1];;1]]==true]

$if[$random[0;100]>37]
Ты выйграл $replaceText[$message;$message[1];;1]
$else
Ты проиграл $replaceText[$message;$message[1];;1]
$endif

$else
В сообщении нету цифр
$endif

$else
Укажите количество денег для выигрыша
$endif

$else

Команда не найдена
$c[Это сообщение можно убрать, но если вы плохо разбираетесь в этой системе, лучше оставьте его на некоторое время чтобы определить что у вас не работает]

$endif
$endif
$endif
```

### **Для стабильной работы создайте вторую команду префикса**

**`Триггер: ?`** - где "**?**" префикс который будет использоваться в команде
```
$nomention

$if[$getServerVar[prefix]==?] $c[Здесь указывается триггер команды, в нашем случае "?"]

$if[$message[1]==change-prefix]

$onlyAdmin[Ошибка: данная команда доступна только для администраторов]
$onlyIf[$checkContains[$replaceText[$message;$message[1];;1];!;?]==true;Ошибка: данного префикса не существует]
$c[Мы используем replaceText чтобы убрать название команды "change-prefix", здесь это не обходимо.]

$addField[Успешно;Вы изменили префикс на `$replaceText[$message;$message[1];;1]`]
$color[00ff00]

$setServerVar[prefix;$trimSpace[$replaceText[$message;$message[1];;1]]]
$c[trimSpace нужен чтобы убрать возможные пробелы в начале и в конце префикса]

$elseif[$message[1]==command1]

Команда1 выполнена

$elseif[$message[1]==casino]

$if[$replaceText[$message;$message[1];;1]!=]
$if[$isNumber[$replaceText[$message;$message[1];;1]]==true]

$if[$random[0;100]>37]
Ты выйграл $replaceText[$message;$message[1];;1]
$else
Ты проиграл $replaceText[$message;$message[1];;1]
$endif

$else
В сообщении нету цифр
$endif

$else
Укажите количество денег для выигрыша
$endif

$else

Команда не найдена
$c[Это сообщение можно убрать, но если вы плохо разбираетесь в этой системе, лучше оставьте его на некоторое время чтобы определить что у вас не работает]

$endif
$endif
$endif
```

### **Важно**
Этот код будет работать только если у переменной `prefix` установлено значение `!` или `?`, поэтому настоятельно рекомендую создать мастер-команду для просмотра префикса не в зависимости от значения переменной:

`Триггер: !prefix`
```
$nomention

$description[На сервере установлен префикс "`$getServerVar[prefix]`", изменить префикс: `$getServerVar[prefix]change-prefix`]
$color[00ff00]
```

___

*Если вам нужна какая либо поомощь, воспользуйтесь **[сервером поддержки](https://discord.gg/hVJZumMD9W)***